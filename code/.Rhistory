model_6$collin.var
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion - .[".[dummies]*Religion"] , data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interactions",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
model_6$collin.var
model_3$collin.var
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion, data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interactions",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
model_3
summary(model_3)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
#Choose which year to omit
# a <- 1800
#
# reg_omit <- c("Year_rounded", "Optimism", "Religion", paste0("x", a), paste0("s", a), paste0("p", a))
dummies <- paste0("x", 1510:1890)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - x1800 - s1800 - p1800, data = df)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - b, data = df)
model_1 <- feols(Percentile ~ Science + Politics, df)
model_2 <- feols(Percentile ~ Science + Politics + .[dummies], df)
model_3 <- feols(Percentile ~ Science + Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"], df)
model_4 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics - Religion, df)
# model_1 <- lm(Percentile ~ Science + Politics, data = df)
# model_2 <- lm(Percentile ~., data = df[, !(colnames(df) %in% reg_omit)])
model_5 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] - Religion , data = df)
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion, data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interactions",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
full <- tidy(models)
modelsummary(models, output = "../output/results.txt")
modelsummary(models, statistic = NULL, output = "../output/results.txt")
modelsummary(models,
# statistic = NULL,
output = "../output/results.txt")
modelsummary(models,
# statistic = NULL,
stars = TRUE,
output = "../output/results.txt")
modelsummary(models,
statistic = NULL,
stars = TRUE,
output = "../output/results.txt")
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
# sci_year <- volumes$Science*year_dummies
# pol_year <- volumes$Politics*year_dummies
#
# #Rename column names, regression cannot have repeated col names
# names(sci_year) <- gsub("x", "s", names(sci_year), fixed=TRUE)
# names(pol_year) <- gsub("x", "p", names(pol_year), fixed=TRUE)
# sci_year %>% rename_with( ~ paste0())
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
#Choose which year to omit
# a <- 1800
#
# reg_omit <- c("Year_rounded", "Optimism", "Religion", paste0("x", a), paste0("s", a), paste0("p", a))
dummies <- paste0("x", 1510:1890)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - x1800 - s1800 - p1800, data = df)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - b, data = df)
model_1 <- feols(Percentile ~ Science + Politics, df)
model_2 <- feols(Percentile ~ Science + Politics + .[dummies], df)
model_3 <- feols(Percentile ~ Science + Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"], df)
View(df)
model_4 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics - Religion, df)
# model_1 <- lm(Percentile ~ Science + Politics, data = df)
# model_2 <- lm(Percentile ~., data = df[, !(colnames(df) %in% reg_omit)])
model_5 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] - Religion , data = df)
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion, data = df)
View(volumes)
bins <- seq(1500, 1900, by = 20)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1500, 1900, by = 20)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1500, 1900, by = 20)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
# year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
#                   dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#
# #Populate with dummies
# for (i in 1:length(years)){
#   year <- years[i]
#   year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
# }
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
?data.frame
length(bins)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)-1]))))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)+1]))))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
bins[1]
bins[length(bins)]
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins)))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins)))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
?matrix
names <- paste0("x", bins[1]:bins[length(bins)])
?paste0
?paste0
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq_along(bins))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq_along(bins)))))
View(bin_dummies)
seq_along(bins)
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1]:bins[length(bins)], by=20)))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
View(bin_dummies)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", seq(years[1],years[length(years)],by =1)))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
for (i in 1:length(bins)){
year <- bins[i]
bin_dummies[i] <- ifelse(volumes$Year_rounded >= (yeaer - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", seq(years[1],years[length(years)],by =1)))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
for (i in 1:length(bins)){
year <- bins[i]
bin_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
View(bin_dummies)
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
df2 <- cbind(volumes, bin_dummies)
View(df2)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", seq(years[1],years[length(years)],by =1)))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
for (i in 1:length(bins)){
year <- bins[i]
bin_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
df2 <- cbind(volumes, bin_dummies)
View(df2)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin = Value)
#Regression by year
df %>% group_by(bin) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
# volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(lm(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
library(tidyverse)
library(fixest)
library(data.table)
library(broom)
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
