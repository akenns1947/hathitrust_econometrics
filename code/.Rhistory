for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)+1]))))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
bins[1]
bins[length(bins)]
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins)))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins)))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", bins[1]:bins[length(bins)]))))
?matrix
names <- paste0("x", bins[1]:bins[length(bins)])
?paste0
?paste0
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq_along(bins))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq_along(bins)))))
View(bin_dummies)
seq_along(bins)
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1]:bins[length(bins)], by=20)))))
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
View(bin_dummies)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", seq(years[1],years[length(years)],by =1)))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
for (i in 1:length(bins)){
year <- bins[i]
bin_dummies[i] <- ifelse(volumes$Year_rounded >= (yeaer - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", seq(years[1],years[length(years)],by =1)))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
for (i in 1:length(bins)){
year <- bins[i]
bin_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
View(bin_dummies)
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
df2 <- cbind(volumes, bin_dummies)
View(df2)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", seq(years[1],years[length(years)],by =1)))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
bin_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(bins),
dimnames = list(NULL, paste0("x", seq(bins[1],bins[length(bins)], by=20)))))
for (i in 1:length(bins)){
year <- bins[i]
bin_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
df2 <- cbind(volumes, bin_dummies)
View(df2)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin = Value)
#Regression by year
df %>% group_by(bin) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
# volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
df %>% group_by(bin_20) %>%
do(tidy(lm(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
library(tidyverse)
library(fixest)
library(data.table)
library(broom)
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
library(broom)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
# volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
volumes <- as.tibble(volumes)
#Regression by year
volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod2 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
library(broom)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
# volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
library(data.table)
library(broom)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
bins <- seq(1510, 1890, by = 20)
#Merge volume years to closest bin
a = data.table(Value=volumes$Year_rounded) #Extract years
a[,merge:=Value] #Give data.table something to merge on
b = data.table(Value = bins)
b[,merge:=Value]
setkeyv(a, c('merge')) #Sort for quicker merge
setkeyv(b, c('merge'))
rounded = b[a, roll='nearest'] #Merge to nearest
rounded <- distinct(rounded) #Get distinct values for easier merge to 'volumes'
# volumes <- data.table(volumes)
volumes <- merge(volumes, rounded, by.x = "Year_rounded", by.y = "merge")
#Remove unnecessary column
volumes <- volumes %>%
subset(select = -c(i.Value)) %>%
rename(bin_20 = Value)
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
library(tidyverse)
library(fixest)
library(data.table)
library(broom)
library(modelsummary)
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
statistic = NULL,
stars = TRUE,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .))
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
statistic = NULL,
stars = TRUE,
output = "../output/margina_effects.txt")
mod1$p.value
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
statistic = NULL,
stars = TRUE,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
stars = TRUE,
statistic = NULL
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
stars = TRUE,
statistic = NULL,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
stars = TRUE,
output = "../output/margina_effects.txt")
View(mod1)
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(glance(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
stars = TRUE,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(glance(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(glance(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
output = "../output/margina_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
output = "../output/margina_effects.txt")
View(mod1)
type(mod1)
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
output = "../output/marginal_effects.txt")
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
statistic = NULL,
output = "../output/marginal_effects.txt")
datasummary(bin_20 ~ term, data = mod1)
datasummary(bin_20 ~ term, data = mod1,
output = 'rmarkdown')
datasummary(bin_20 ~ term, data = mod1,
output = 'markdown')
datasummary(All(bin_20) ~ term, data = mod1,
output = 'markdown')
volumes <- as.tibble(volumes)
#Regression by year
mod1 <- volumes %>% group_by(bin_20) %>%
do(tidy(feols(Percentile ~ Science + Politics + Science*Religion + Science*Politics + Religion*Politics, data = .)))
mod1 <- na.omit(mod1)
# mod2 <- volumes %>% group_by(bin_20) %>%
#   do(tidy(feols(Percentile ~ Science*Religion + Science*Politics + Religion*Politics, data = .)))
modelsummary(mod1,
statistic = NULL,
output = "../output/marginal_effects.txt")
mod1 <- data.frame(mod1)
datasummary(All(bin_20) ~ term, data = mod1,
output = 'markdown')
datasummary(list(bin_20) ~ term, data = mod1,
output = 'markdown')
list(mod1$bin_20)
datasummary(list(bin_20) ~ estimate, data = mod1,
output = 'markdown')
a <- list(mod1$bin_20)
length(a)
