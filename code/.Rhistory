"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- c(time_fe,time_fe_int)
attr(time_fe, "position") <- 13
attr(time_fe_int, "position") <- 14
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interaction",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- cbind.data.frame(time_fe,time_fe_int)
attr(time_fe, "position") <- 13
attr(time_fe_int, "position") <- 14
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interaction",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- cbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interaction",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
#Choose which year to omit
# a <- 1800
#
# reg_omit <- c("Year_rounded", "Optimism", "Religion", paste0("x", a), paste0("s", a), paste0("p", a))
dummies <- paste0("x", 1511:1890)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - x1800 - s1800 - p1800, data = df)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - b, data = df)
model_1 <- feols(Percentile ~ Science + Politics, df)
model_2 <- feols(Percentile ~ Science + Politics + .[dummies], df)
model_3 <- feols(Percentile ~ Science + Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"], df)
model_4 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics - Religion, df)
# model_1 <- lm(Percentile ~ Science + Politics, data = df)
# model_2 <- lm(Percentile ~., data = df[, !(colnames(df) %in% reg_omit)])
model_5 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] - Religion , data = df)
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion , data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interaction",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
#Choose which year to omit
# a <- 1800
#
# reg_omit <- c("Year_rounded", "Optimism", "Religion", paste0("x", a), paste0("s", a), paste0("p", a))
dummies <- paste0("x", 1510:1890)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - x1800 - s1800 - p1800, data = df)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - b, data = df)
model_1 <- feols(Percentile ~ Science + Politics, df)
model_2 <- feols(Percentile ~ Science + Politics + .[dummies], df)
model_3 <- feols(Percentile ~ Science + Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"], df)
model_4 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics - Religion, df)
# model_1 <- lm(Percentile ~ Science + Politics, data = df)
# model_2 <- lm(Percentile ~., data = df[, !(colnames(df) %in% reg_omit)])
model_5 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] - Religion , data = df)
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion , data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interaction",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
#Choose which year to omit
# a <- 1800
#
# reg_omit <- c("Year_rounded", "Optimism", "Religion", paste0("x", a), paste0("s", a), paste0("p", a))
dummies <- paste0("x", 1510:1890)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - x1800 - s1800 - p1800, data = df)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - b, data = df)
model_1 <- feols(Percentile ~ Science + Politics, df)
model_2 <- feols(Percentile ~ Science + Politics + .[dummies], df)
model_3 <- feols(Percentile ~ Science + Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"], df)
model_4 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics - Religion, df)
# model_1 <- lm(Percentile ~ Science + Politics, data = df)
# model_2 <- lm(Percentile ~., data = df[, !(colnames(df) %in% reg_omit)])
model_5 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] - Religion , data = df)
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion , data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interaction",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
summary(model_6)
View(model_6)
model_6$collin.var
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion - .[".[dummies]*Religion"] , data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interactions",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
model_6$collin.var
model_3$collin.var
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion, data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interactions",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
model_3
summary(model_3)
rm(list=ls())
options(scipen=999)
library(tidyverse)
library(fixest)
volumes <- read.csv("../input/volumes_all_opt_percentile.csv")
volumes <- volumes[,-1] #Drops 'X' which is just the index attached by Python
years <- seq(1510,1890, by=1)
#Create empty data frame with row dimension same as 'volumes', column dimension 'years'
#Column names are
year_dummies <- data.frame(matrix(0, nrow = nrow(volumes), ncol = length(years),
dimnames = list(NULL, paste0("x", years[1]:years[length(years)]))))
#Populate with dummies
for (i in 1:length(years)){
year <- years[i]
year_dummies[i] <- ifelse(volumes$Year_rounded >= (year - 10) & volumes$Year_rounded <= (year + 10), 1, 0)
}
# df <- cbind(volumes, year_dummies, sci_year, pol_year)
df <- cbind(volumes, year_dummies)
#Choose which year to omit
# a <- 1800
#
# reg_omit <- c("Year_rounded", "Optimism", "Religion", paste0("x", a), paste0("s", a), paste0("p", a))
dummies <- paste0("x", 1510:1890)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - x1800 - s1800 - p1800, data = df)
# model <- lm(Percentile ~. - Year_rounded - Optimism - Religion - b, data = df)
model_1 <- feols(Percentile ~ Science + Politics, df)
model_2 <- feols(Percentile ~ Science + Politics + .[dummies], df)
model_3 <- feols(Percentile ~ Science + Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"], df)
model_4 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics - Religion, df)
# model_1 <- lm(Percentile ~ Science + Politics, data = df)
# model_2 <- lm(Percentile ~., data = df[, !(colnames(df) %in% reg_omit)])
model_5 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] - Religion , data = df)
model_6 <- feols(Percentile ~ Science + Politics + Science*Politics + Science*Religion + Religion*Politics + .[dummies] + .[".[dummies]*Science"] + .[".[dummies]*Politics"] + .[".[dummies]*Science*Politics"] + .[".[dummies]*Science*Religion"] + .[".[dummies]*Religion*Politics"] - Religion, data = df)
library(stargazer)
library(modelsummary)
library(broom)
# etable(list(model_1, model_2, model_3),
#        drop = "x1"
#        )
#
# stargazer(model_1, model_2, model_3, type = 'text')
# etable(model_1)
# etable(model_2)
# etable(model_3)
# summary(model_4)
# modelsummary(list(model_1, model_2, model_3),
#              coef_omit = "[^Science|Politics|(Intercept)|Science × Politics]",
#              output="markdown")
models <- list(model_1, model_2, model_3, model_4, model_5, model_6)
time_fe <- data.frame(
"Coefficients" = "Time FE",
"Model 1" = "No",
"Model 2" = "Yes",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "Yes",
"Model 6" = "Yes"
)
time_fe_int <- data.frame(
"Coefficients" = "Time FE Interactions",
"Model 1" = "No",
"Model 2" = "No",
"Model 3" = "Yes",
"Model 4" = "No",
"Model 5" = "No",
"Model 6" = "Yes"
)
rows <- rbind.data.frame(time_fe,time_fe_int)
attr(rows, "position") <- c(13,14)
modelsummary(models,
coef_omit = "x1",
add_rows = rows,
stars = TRUE,
gof_omit = "R2 Within|R2 P|Log|AIC|BIC|Std",
output="latex")
full <- tidy(models)
modelsummary(models, output = "../output/results.txt")
modelsummary(models, statistic = NULL, output = "../output/results.txt")
modelsummary(models,
# statistic = NULL,
output = "../output/results.txt")
modelsummary(models,
# statistic = NULL,
stars = TRUE,
output = "../output/results.txt")
modelsummary(models,
statistic = NULL,
stars = TRUE,
output = "../output/results.txt")
